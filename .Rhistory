legend.position = "none")
p.wage
install.packages(gghighlight)
install.packages("gghighlight")
library(gghighlight)
p.wage <- ggplot(truck3, aes(reorder(factor(naics_title), -value, FUN=median), value)) +
geom_boxplot() +
gghighlight(naics_title == "Forestry and Logging") +
coord_flip() +
theme(panel.background = element_rect(fill = "NA"),
axis.line = element_line(color = "black"),
legend.position = "none")
p.wage
p.wage <- ggplot(truck3, aes(reorder(factor(naics_title), -value, FUN=median), value, fill = For_ID)) +
geom_boxplot() +
gghighlight(naics_title == "Forestry and Logging") +
coord_flip() +
theme(panel.background = element_rect(fill = "NA"),
axis.line = element_line(color = "black"),
legend.position = "none")
p.wage
p.wage <- ggplot(truck3, aes(reorder(factor(naics_title), value, FUN=median), value, fill = For_ID)) +
geom_boxplot() +
gghighlight(naics_title == "Forestry and Logging") +
coord_flip() +
theme(panel.background = element_rect(fill = "NA"),
axis.line = element_line(color = "black"),
legend.position = "none")
p.wage
p.wage <- ggplot(truck3, aes(reorder(factor(naics_title), value, FUN=median), value, fill = For_ID)) +
geom_boxplot() +
gghighlight(naics_title == "Forestry and Logging") +
coord_flip() +
labs(x = "", y = "Hourly wage (US$)") +
theme(panel.background = element_rect(fill = "NA"),
axis.line = element_line(color = "black"),
legend.position = "none")
p.wage
p.wage <- ggplot(truck3, aes(reorder(factor(naics_title), value, FUN=median), value, fill = For_ID)) +
geom_boxplot() +
gghighlight(naics_title == "Forestry and Logging") +
coord_flip() +
labs(x = "", y = "Hourly wage (US$)",
caption = "Source: US Bureau of Labor Statistics, Occupational Employment by Industry Research Estimates, 2019") +
theme(panel.background = element_rect(fill = "NA"),
axis.line = element_line(color = "black"),
legend.position = "none")
p.wage
# Chunk 1
library(googlesheets4)
library(tidyverse)
library(gghighlight)
# Chunk 2
truck <- read_sheet("https://docs.google.com/spreadsheets/d/1osKKINnhZjfJ0Wi_lMJe5pME87hDgpkBXYF0INCnz3A/edit?usp=sharing")
# Chunk 3
truck2 <- truck %>%
filter(i_group == "3-digit" & tot_emp > 7000) %>%
arrange(desc(tot_emp)) %>%
select(naics_title, h_pct10, h_pct25, h_median, h_pct75, h_pct90)
# Chunk 4
truck3 <- truck2 %>%
pivot_longer(h_pct10:h_pct90) %>%
mutate(value = as.numeric(value),
For_ID = ifelse(naics_title == "Forestry and Logging", "For", "NotFor"))
head(sort(truck3[[1]], decreasing=TRUE), 3)
p.wage <- ggplot(truck3, aes(reorder(factor(naics_title), value, FUN=median), value, fill = For_ID)) +
geom_boxplot() +
gghighlight(naics_title == "Forestry and Logging") +
coord_flip() +
labs(x = "", y = "Hourly wage (US$)",
caption = "Source: US Bureau of Labor Statistics, Occupational Employment by Industry Research Estimates, 2019") +
theme(panel.background = element_rect(fill = "NA"),
axis.line = element_line(color = "black"),
legend.position = "none")
p.wage
blogdown:::new_post_addin()
View(truck)
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
library(googlesheets4)
library(tidyverse)
library(gghighlight)
truck <- read_sheet("https://docs.google.com/spreadsheets/d/1osKKINnhZjfJ0Wi_lMJe5pME87hDgpkBXYF0INCnz3A/edit?usp=sharing")
truck2 <- truck %>%
filter(i_group == "3-digit" & tot_emp > 7000) %>%
arrange(desc(tot_emp)) %>%
select(naics_title, h_pct10, h_pct25, h_median, h_pct75, h_pct90)
truck3 <- truck2 %>%
pivot_longer(h_pct10:h_pct90) %>%
mutate(value = as.numeric(value),
For_ID = ifelse(naics_title == "Forestry and Logging", "For", "NotFor"))
head(sort(truck3[[1]], decreasing=TRUE), 3)
p.wage <- ggplot(truck3, aes(reorder(factor(naics_title), value, FUN=median), value, fill = For_ID)) +
geom_boxplot() +
gghighlight(naics_title == "Forestry and Logging") +
coord_flip() +
labs(x = "", y = "Hourly wage (US$)",
caption = "Source: US Bureau of Labor Statistics, Occupational Employment by Industry Research Estimates, 2019") +
theme(panel.background = element_rect(fill = "NA"),
axis.line = element_line(color = "black"),
legend.position = "none")
p.wage
blogdown:::serve_site()
blogdown:::serve_site()
npc <- read_csv("C://Users//russellm//Documents//Projects//Data//DNR//MN_NPC.csv")
library(tidyverse)
npc <- read_csv("C://Users//russellm//Documents//Projects//Data//DNR//MN_NPC.csv")
npc <- read_csv("C://Users//russellm//Documents//Projects//Data//DNR//MN_NPC.csv")
View(npc)
npc <- npc %>%
mutate(NPC_name = str_extract(NPC_Class, "^.{2}"))
npc <- read_csv("C://Users//russellm//Documents//Projects//Data//DNR//MN_NPC.csv")
npc_group <- npc %>%
mutate(NPC_name = str_extract(NPC_Class, "^.{2}"),
Total_ac = Total / 2.47105) %>%
group_by(NPC_name) %>%
summarize(sum_ac = sum(Total_ac)) %>%
order(sum_ac)
npc_group <- npc %>%
mutate(NPC_name = str_extract(NPC_Class, "^.{2}"),
Total_ac = Total / 2.47105) %>%
group_by(NPC_name) %>%
summarize(sum_ac = sum(Total_ac))
View(npc_group)
npc <- read_csv("C://Users//russellm//Documents//Projects//Data//DNR//MN_NPC.csv")
npc_group <- npc %>%
mutate(NPC_name = str_extract(NPC_Class, "^.{2}"),
Total_ac = Total / 2.47105) %>%
group_by(NPC_name) %>%
summarize(sum_ac = sum(Total_ac))
View(npc_group)
npc_group <- npc %>%
mutate(NPC_name = str_extract(NPC_Class, "^.{2}"),
Total_ac = Total * 2.47105) %>%
group_by(NPC_name) %>%
summarize(sum_ac = sum(Total_ac))
View(npc_group)
blogdown:::new_post_addin()
pools <- read_sheet("https://docs.google.com/spreadsheets/d/15jGuyx62Kdfcm3VzeDgfbhYGlxs3EvDEsd63QWVIPWM/edit?usp=sharing")
p.pool <- pools %>%
filter(StateName == my_STATE) %>%
ggplot(aes(reorder(Pool, C_MMT), C_MMT, fill = C_MMT)) +
geom_bar(stat="identity") +
coord_flip() +
#scale_y_continuous(limits = c(0,16000)) +
labs(x = " ", y = "Carbon stocks \n(million metric tons)",
title = paste("Carbon pools in", my_STATE_abbr, "forests")) +
theme(panel.background = element_rect(fill = "NA"),
axis.line = element_line(color="black"),
axis.text = element_text(color = "black"),
legend.position = "none",
plot.margin = margin(0, 0, 0, 0, "cm"))
p.pool
# Chunk 1
library(tidyverse)
library(knitr)
library(patchwork)
library(GGally)
library(rgdal)
library(usmap)
library(googlesheets4)
pools <- read_sheet("https://docs.google.com/spreadsheets/d/15jGuyx62Kdfcm3VzeDgfbhYGlxs3EvDEsd63QWVIPWM/edit?usp=sharing")
View(pools)
blogdown:::serve_site()
blogdown:::serve_site()
pools <- read_sheet("https://docs.google.com/spreadsheets/d/15jGuyx62Kdfcm3VzeDgfbhYGlxs3EvDEsd63QWVIPWM/edit?usp=sharing")
pools
p.pool <- pools %>%
filter(Pool == "Aboveground biomass") %>%
ggplot(aes(reorder(Pool, C_MMT), C_MMT, fill = C_MMT)) +
geom_bar(stat="identity") +
coord_flip() +
#scale_y_continuous(limits = c(0,16000)) +
labs(x = " ", y = "Carbon in aboveground biomass \n(million metric tons)") +
theme(panel.background = element_rect(fill = "NA"),
axis.line = element_line(color="black"),
axis.text = element_text(color = "black"),
legend.position = "none")
p.pool
p.pool <- pools %>%
filter(Pool == "Aboveground biomass") %>%
ggplot(aes(reorder(State, C_MMT), C_MMT, fill = C_MMT)) +
geom_bar(stat="identity") +
coord_flip() +
#scale_y_continuous(limits = c(0,16000)) +
labs(x = " ", y = "Carbon in aboveground biomass \n(million metric tons)") +
theme(panel.background = element_rect(fill = "NA"),
axis.line = element_line(color="black"),
axis.text = element_text(color = "black"),
legend.position = "none")
p.pool
p.pool <- pools %>%
filter(Pool == "Aboveground biomass") %>%
ggplot(aes(reorder(StateName, C_MMT), C_MMT, fill = C_MMT)) +
geom_bar(stat="identity") +
coord_flip() +
#scale_y_continuous(limits = c(0,16000)) +
labs(x = " ", y = "Carbon in aboveground biomass \n(million metric tons)") +
theme(panel.background = element_rect(fill = "NA"),
axis.line = element_line(color="black"),
axis.text = element_text(color = "black"),
legend.position = "none")
p.pool
p.pool <- pools %>%
ggplot(aes(reorder(StateName, C_MMT), C_MMT, fill = Pool)) +
geom_bar(stat="identity") +
facet_wrap(~Region, ncol = 2) +
labs(x = "State", y = "Carbon in aboveground biomass \n(million metric tons)") +
theme(panel.background = element_rect(fill = "NA"),
axis.line = element_line(color="black"),
axis.text = element_text(color = "black"),
legend.position = "none")
p.pool
p.pool <- pools %>%
ggplot(aes(reorder(StateName, C_MMT), C_MMT, fill = Pool)) +
geom_bar(stat="identity") +
facet_wrap(~Region, ncol = 2, scales = "free_x") +
labs(x = "State", y = "Carbon in aboveground biomass \n(million metric tons)") +
theme(panel.background = element_rect(fill = "NA"),
axis.line = element_line(color="black"),
axis.text = element_text(color = "black"),
legend.position = "none")
p.pool
p.pool <- pools %>%
ggplot(aes(reorder(StateName, C_MMT), C_MMT, fill = Pool)) +
geom_bar(stat="identity") +
facet_wrap(~Region, ncol = 2, scales = "free_x") +
labs(x = "State", y = "Carbon in aboveground biomass \n(million metric tons)") +
theme(panel.background = element_rect(fill = "NA"),
axis.line = element_line(color="black"),
axis.text = element_text(color = "black"),
axis.text.x = element_text(angle = 45, hjust = 1)
legend.position = "none")
p.pool
p.pool <- pools %>%
ggplot(aes(reorder(StateName, C_MMT), C_MMT, fill = Pool)) +
geom_bar(stat="identity") +
facet_wrap(~Region, ncol = 2, scales = "free_x") +
labs(x = "State", y = "Carbon in aboveground biomass \n(million metric tons)") +
theme(panel.background = element_rect(fill = "NA"),
axis.line = element_line(color="black"),
axis.text = element_text(color = "black"),
axis.text.x = element_text(angle = 45, hjust = 1),
legend.position = "none")
p.pool
p.pool <- pools %>%
ggplot(aes(reorder(StateName, C_MMT), C_MMT, fill = Pool)) +
geom_bar(stat="identity") +
facet_wrap(~Region, ncol = 2, scales = "free_x") +
labs(x = "State", y = "Forest ecosystem carbon \n(million metric tons)") +
theme(panel.background = element_rect(fill = "NA"),
axis.line = element_line(color="black"),
axis.text = element_text(color = "black"),
axis.text.x = element_text(angle = 45, hjust = 1))
p.pool
p.pool <- pools %>%
ggplot(aes(reorder(StateName, -C_MMT), C_MMT, fill = Pool)) +
geom_bar(stat="identity") +
facet_wrap(~Region, ncol = 2, scales = "free_x") +
labs(x = "State", y = "Forest ecosystem carbon \n(million metric tons)") +
theme(panel.background = element_rect(fill = "NA"),
axis.line = element_line(color="black"),
axis.text = element_text(color = "black"),
axis.text.x = element_text(angle = 45, hjust = 1))
p.pool
# Chunk 1
library(tidyverse)
library(knitr)
library(patchwork)
library(GGally)
library(rgdal)
library(usmap)
library(googlesheets4)
# Chunk 2
pools <- read_sheet("https://docs.google.com/spreadsheets/d/15jGuyx62Kdfcm3VzeDgfbhYGlxs3EvDEsd63QWVIPWM/edit?usp=sharing")
p.pool <- pools %>%
filter(Pool == "Aboveground biomass") %>%
ggplot(aes(reorder(StateName, C_MMT), C_MMT, fill = C_MMT)) +
geom_bar(stat="identity") +
coord_flip() +
labs(x = " ", y = "Carbon in aboveground biomass \n(million metric tons)") +
theme(panel.background = element_rect(fill = "NA"),
axis.line = element_line(color="black"),
axis.text = element_text(color = "black"),
legend.position = "none")
p.pool
p.pool <- pools %>%
ggplot(aes(reorder(StateName, -C_MMT), C_MMT, fill = Pool)) +
geom_bar(stat="identity", position = "dodge2") +
facet_wrap(~RegionName, ncol = 2, scales = "free_x") +
labs(x = "State", y = "Forest ecosystem carbon \n(million metric tons)") +
theme(panel.background = element_rect(fill = "NA"),
axis.line = element_line(color="black"),
axis.text = element_text(color = "black"),
axis.text.x = element_text(angle = 45, hjust = 1))
p.pool
p.pool <- pools %>%
ggplot(aes(reorder(StateName, -C_MMT), C_MMT, fill = Pool)) +
geom_bar(stat="identity") +
facet_wrap(~RegionName, ncol = 2, scales = "free_x") +
labs(x = "State", y = "Forest ecosystem carbon \n(million metric tons)") +
theme(panel.background = element_rect(fill = "NA"),
axis.line = element_line(color="black"),
axis.text = element_text(color = "black"),
axis.text.x = element_text(angle = 45, hjust = 1))
p.pool
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::new_post_addin()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::new_post_addin()
# Chunk 1
library(forcats)
library(tidyverse)
library(knitr)
library(formattable)
library(kableExtra)
# Chunk 2
PlotID<-c(1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8)
Period<-c("Pre","Post","Pre","Post","Pre","Post","Pre","Post","Pre","Post","Pre","Post","Pre","Post","Pre","Post")
Seedlings<-c(1200,800,1250,950,1350,1200,1200,650,1100,950,1350,900,1200,650,1240,910)
veg<-data.frame(PlotID=PlotID,
Period=Period,
Seedlings=Seedlings)
veg$Seedlings<-as.numeric(veg$Seedlings)
# #### KABLE of positive/negative words####
# bing_neg_show <- bing_neg[,] %>%
#   head(10)
veg %>%
#arrange(-n) %>%
kable("html", caption = 'The seedling dataset.') %>%
kable_styling()
p.seed<-ggplot(veg, aes(Period,Seedlings))+
geom_violin(aes(fill=Period))+
xlab("Time period")+
ylab("Seedlings per acre")
p.seed
veg_wide<-veg %>% spread(Period, Seedlings, sep="_seedlings_")
View(veg_wide)
veg
veg_wide2<-veg %>% pivot_wider(Period, Seedlings, sep="_seedlings_")
veg_wide2<-veg %>% pivot_wider(names_from = Period, values_from = Seedlings)
View(veg_wide2)
veg %>%
kable("html", caption = 'The seedling dataset.') %>%
kable_styling()
veg_wide<-veg %>% pivot_wider(names_from = Period, values_from = Seedlings)
veg_wide %>%
kable("html", caption = 'The seedling dataset.') %>%
kable_styling()
veg_wide <- veg_wide %>%
mutate(delta_Seedlings = Post - Pre)
ggplot(veg_wide, aes(x = "", delta_Seedlings))+
geom_boxplot(fill = "green")+
xlab("") +
ylab("Change in seedlings per acre")
ggplot(veg_wide, aes(x = "", delta_Seedlings))+
geom_violin(fill = "green")+
xlab("") +
ylab("Change in seedlings per acre")
View(veg_wide2)
View(veg)
veg_long <- veg_wide %>%
pivot_longer(-PlotID, names_to = "Period", values_to = "Seedlings")
View(veg_long)
veg_long <- veg_wide %>%
pivot_longer(-PlotID, names_to = "Period", values_to = "Seedlings") %>%
filter(Period != "delta_Seedlings")
View(veg_long)
veg_long %>%
kable("html", caption = 'The seedling dataset in a LONG format.') %>%
kable_styling()
veg_long <- veg_wide %>%
pivot_longer(PlotID, names_to = "Period", values_to = "Seedlings") %>%
filter(Period != "delta_Seedlings")
View(veg_long)
veg_long <- veg_wide %>%
pivot_longer(`PlotID, names_to = "Period", values_to = "Seedlings") %>%
filter(Period != "delta_Seedlings")
veg_long <- veg_wide %>%
pivot_longer(-PlotID, names_to = "Period", values_to = "Seedlings") %>%
filter(Period != "delta_Seedlings")
# Chunk 1
library(forcats)
library(tidyverse)
library(knitr)
library(formattable)
library(kableExtra)
# Chunk 2
PlotID<-c(1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8)
Period<-c("Pre","Post","Pre","Post","Pre","Post","Pre","Post","Pre","Post","Pre","Post","Pre","Post","Pre","Post")
Seedlings<-c(1200,800,1250,950,1350,1200,1200,650,1100,950,1350,900,1200,650,1240,910)
veg<-data.frame(PlotID=PlotID,
Period=Period,
Seedlings=Seedlings)
veg$Seedlings<-as.numeric(veg$Seedlings)
# Chunk 3
veg %>%
kable("html", caption = 'The seedling dataset.') %>%
kable_styling()
# Chunk 4
p.seed<-ggplot(veg, aes(Period,Seedlings))+
geom_violin(aes(fill=Period))+
xlab("Time period")+
ylab("Seedlings per acre")
p.seed
# Chunk 5
veg_wide <- veg %>%
pivot_wider(names_from = Period, values_from = Seedlings)
# Chunk 6
veg_wide %>%
kable("html", caption = 'The seedling dataset in a WIDE format.') %>%
kable_styling()
# Chunk 7
veg_wide <- veg_wide %>%
mutate(delta_Seedlings = Post - Pre)
# Chunk 8
ggplot(veg_wide, aes(x = "", delta_Seedlings))+
geom_violin(fill = "green")+
xlab("") +
ylab("Change in seedlings per acre")
veg_long <- veg_wide %>%
pivot_longer(-PlotID, names_to = "Period", values_to = "Seedlings") %>%
filter(Period != "delta_Seedlings")
veg_long <- veg_wide %>%
pivot_longer(-PlotID, names_to = "Period", values_to = "Seedlings") %>%
filter(Period != "delta_Seedlings")
# Chunk 1
library(forcats)
library(tidyverse)
library(knitr)
library(formattable)
library(kableExtra)
# Chunk 2
PlotID<-c(1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8)
Period<-c("Pre","Post","Pre","Post","Pre","Post","Pre","Post","Pre","Post","Pre","Post","Pre","Post","Pre","Post")
Seedlings<-c(1200,800,1250,950,1350,1200,1200,650,1100,950,1350,900,1200,650,1240,910)
veg<-data.frame(PlotID=PlotID,
Period=Period,
Seedlings=Seedlings)
veg$Seedlings<-as.numeric(veg$Seedlings)
# Chunk 3
veg %>%
kable("html", caption = 'The seedling dataset.') %>%
kable_styling()
# Chunk 4
p.seed<-ggplot(veg, aes(Period,Seedlings))+
geom_violin(aes(fill=Period))+
xlab("Time period")+
ylab("Seedlings per acre")
p.seed
# Chunk 5
veg_wide <- veg %>%
pivot_wider(names_from = Period, values_from = Seedlings)
# Chunk 6
veg_wide %>%
kable("html", caption = 'The seedling dataset in a WIDE format.') %>%
kable_styling()
# Chunk 7
veg_wide <- veg_wide %>%
mutate(delta_Seedlings = Post - Pre)
# Chunk 8
ggplot(veg_wide, aes(x = "", delta_Seedlings))+
geom_violin(fill = "green")+
xlab("") +
ylab("Change in seedlings per acre")
# Chunk 1
library(forcats)
library(tidyverse)
library(knitr)
library(formattable)
library(kableExtra)
# Chunk 2
PlotID<-c(1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8)
Period<-c("Pre","Post","Pre","Post","Pre","Post","Pre","Post","Pre","Post","Pre","Post","Pre","Post","Pre","Post")
Seedlings<-c(1200,800,1250,950,1350,1200,1200,650,1100,950,1350,900,1200,650,1240,910)
veg<-data.frame(PlotID=PlotID,
Period=Period,
Seedlings=Seedlings)
veg$Seedlings<-as.numeric(veg$Seedlings)
# Chunk 3
veg %>%
kable("html", caption = 'The seedling dataset.') %>%
kable_styling()
# Chunk 4
p.seed<-ggplot(veg, aes(Period,Seedlings))+
geom_violin(aes(fill=Period))+
xlab("Time period")+
ylab("Seedlings per acre")
p.seed
# Chunk 5
veg_wide <- veg %>%
pivot_wider(names_from = Period, values_from = Seedlings)
# Chunk 6
veg_wide %>%
kable("html", caption = 'The seedling dataset in a WIDE format.') %>%
kable_styling()
# Chunk 7
veg_wide <- veg_wide %>%
mutate(delta_Seedlings = Post - Pre)
ggplot(veg_wide, aes(x = "", delta_Seedlings))+
geom_violin(fill = "green")+
xlab("") +
ylab("Change in seedlings per acre")
veg_long <- veg_wide %>%
pivot_longer(-PlotID, names_to = "Period", values_to = "Seedlings") %>%
filter(Period != "delta_Seedlings")
View(veg)
View(veg_long)
blogdown:::serve_site()
