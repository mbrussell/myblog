labs(y = "Total aboveground carbon in live trees (metric tonnes/ac)",
x = "Year") +
theme_bw() +
scale_color_brewer(palette = "Set1")
# Chunk 5
tree_list_uncorrected <- tree_list_uncorrected |>
mutate(scenario = "FVS Out-of-the-box")
tree_list_corrected <- tree_list_corrected |>
mutate(scenario = "FVS Calibrated")
tree_list_all <- rbind(tree_list_uncorrected, tree_list_corrected) |>
filter(Year >= 2033)
tree_list_2023 <- rbind(tree_list_uncorrected, tree_list_corrected) |>
filter(Year == 2023)
tree_spp <- tree_list_2023 |>
summarize(num_spp = n(),
.by = SpeciesFVS) |>
arrange(desc(num_spp))
ggplot(tree_list_all, aes(x = factor(Year), y = DG, fill = scenario)) +
geom_boxplot(outlier.shape = NA, position = position_dodge()) +
labs(y = "Diameter increment (in/10-yr)",
x = "Year") +
scale_y_continuous(limits = c(0, 2.1)) +
theme_bw() +
scale_fill_brewer(palette = "Set1")
# Chunk 6
tree_list_all_top_spp <- tree_list_all |>
filter(SpeciesFVS %in% c("BF", "RM", "RS", "PB", "YB", "AB", "SM", "EH") &
Year %in% c(2033, 2073, 2123))
ggplot(tree_list_all_top_spp, aes(x = factor(Year), y = DG, fill = scenario)) +
geom_boxplot(outlier.shape = NA, position = position_dodge()) +
labs(y = "Diameter increment (in/10-yr)",
x = "Year") +
facet_wrap(~SpeciesFVS, nrow = 4) +
scale_y_continuous(limits = c(0, 2.1)) +
theme_bw() +
scale_fill_brewer(palette = "Set1")
# Chunk 7
tree_list_all_height <- tree_list_all |>
filter(DBH < 5)
ggplot(tree_list_all_height, aes(x = factor(Year), y = HtG, fill = scenario)) +
geom_boxplot(outlier.shape = NA, position = position_dodge()) +
labs(y = "Height increment (ft/10-yr)",
x = "Year") +
scale_y_continuous(limits = c(0, 15)) +
theme_bw() +
scale_fill_brewer(palette = "Set1")
# Chunk 8
ggplot(tree_list_all_top_spp, aes(x = factor(Year), y = HtG, fill = scenario)) +
geom_boxplot(outlier.shape = NA, position = position_dodge()) +
labs(y = "Height increment (ft/10-yr)",
x = "Year") +
facet_wrap(~SpeciesFVS, nrow = 4) +
scale_y_continuous(limits = c(0, 15)) +
theme_bw() +
scale_fill_brewer(palette="Set1")
blogdown:::new_post_addin()
my_wd <- "C:/Users/matt/Documents/Arbor/Projects/Arbor/FFCP/williams/data"
me_cond <- read_csv(paste0(my_wd, "ME_COND.csv"))
library(tidyverse)
me_cond <- read_csv(paste0(my_wd, "ME_COND.csv"))
# Set working directory
my_wd <- "C:/Users/matt/Documents/Arbor/Projects/Blog"
me_cond <- read_csv(paste0(my_wd, "ME_COND.csv"))
my_wd <- "C:/Users/matt/Documents/Arbor/Projects/Blog/"
me_cond <- read_csv(paste0(my_wd, "ME_COND.csv"))
my_wd <- "C:/Users/matt/Documents/Arbor/Projects/Blog/"
me_plot<- read_csv(paste0(my_wd, "ME_PLOT.csv"))
table(me_plot$ECOSUBCD)
ECOSUBCD <- tribble(table(me_plot$ECOSUBCD))
ECOSUBCD <- tribble(~name, table(me_plot$ECOSUBCD))
ECOSUBCD
ECOSUBCD <- as_tibble(table(me_plot$ECOSUBCD))
ECOSUBCD <- as_tibble(table(me_plot$ECOSUBCD), .name_repair = "unique")
ECOSUBCD
eco_codes <- as_tibble(table(me_plot$ECOSUBCD), .name_repair = "foo")
eco_codes <- as_tibble(table(me_plot$ECOSUBCD))
eco_codes <- as_tibble(table(me_plot$ECOSUBCD), .name_repair = "unique")
eco_codes <- as_tibble(table(me_plot$ECOSUBCD), .name_repair = "unique")
eco_codes
names(eco_codes)
eco_codes <- as_tibble(table(me_plot$ECOSUBCD), .name_repair = "unique") |>
rename(...1 = ECOSUBCD)
eco_codes <- as_tibble(table(me_plot$ECOSUBCD), .name_repair = "unique") |>
rename(ECOSUBCD = ...1)
eco_codes
eco_codes <- as_tibble(table(me_plot$ECOSUBCD), .name_repair = "unique") |>
rename(ECOSUBCD = ...1,
num_plots = n)
eco_codes
eco_codes <- eco_codes %>%
mutate(ECO_PROV = str_sub(ECOSUBCD, end = -3))
eco_codes
eco_codes <- eco_codes %>%
mutate(eco_divison = str_sub(ECOSUBCD, end = -3))
eco_codes <- eco_codes %>%
mutate(eco_prov = str_sub(ECOSUBCD, end = -3),
eco_division = substr(eco_prov, 1, nchar(eco_prov)-3))
eco_codes
# Chunk 1
library(tidyverse)
# Chunk 2
# Set working directory
my_wd <- "C:/Users/matt/Documents/Arbor/Projects/Blog/"
me_plot<- read_csv(paste0(my_wd, "ME_PLOT.csv"))
# Chunk 3
eco_codes <- as_tibble(table(me_plot$ECOSUBCD), .name_repair = "unique") |>
rename(ECOSUBCD = ...1,
num_plots = n)
eco_codes
eco_codes <- eco_codes %>%
mutate(eco_prov = str_sub(ECOSUBCD, end = -3),
eco_division = substr(eco_prov, 1, nchar(eco_prov)-3))
eco_codes
eco_codes <- eco_codes %>%
mutate(eco_prov = str_sub(ECOSUBCD, end = -3),
eco_division = substr(eco_prov, 1, nchar(eco_prov)-1))
eco_codes
eco_codes <- eco_codes %>%
mutate(eco_prov = str_sub(ECOSUBCD, end = -3),
eco_division = substr(eco_prov, 1, -1))
eco_codes
eco_codes <- eco_codes %>%
mutate(eco_prov = str_sub(ECOSUBCD, end = -3),
eco_division = substr(eco_prov, -1))
eco_codes <- eco_codes %>%
mutate(eco_prov = str_sub(ECOSUBCD, end = -3),
eco_division = substr(eco_prov, -1, 1))
eco_codes
eco_codes <- eco_codes %>%
mutate(eco_prov = str_sub(ECOSUBCD, end = -3),
eco_division = substr(eco_prov, -1, -1))
eco_codes
eco_codes <- eco_codes %>%
mutate(eco_prov = str_sub(ECOSUBCD, end = -3),
eco_division = substr(eco_prov, -1, -2))
eco_codes
eco_codes <- eco_codes %>%
mutate(eco_prov = str_sub(ECOSUBCD, end = -3),
eco_division = substr(eco_prov, -1, 1))
eco_codes
eco_codes <- eco_codes %>%
mutate(eco_prov = str_sub(ECOSUBCD, end = -3),
eco_division = substr(eco_prov, 1, -1))
eco_codes
eco_codes <- eco_codes %>%
mutate(eco_prov = str_sub(ECOSUBCD, end = -3),
eco_division = str_sub(eco_prov, end=-4))
eco_codes
eco_codes <- eco_codes %>%
mutate(eco_prov = str_sub(ECOSUBCD, end = -3),
eco_division = str_sub(eco_prov, end=-1))
eco_codes
eco_codes <- eco_codes %>%
mutate(eco_prov = str_sub(ECOSUBCD, end = -3),
eco_division = str_sub(eco_prov, end=1))
eco_codes
eco_codes <- eco_codes %>%
mutate(eco_prov = str_sub(ECOSUBCD, end = -3),
eco_division = str_sub(eco_prov, end=-1))
eco_codes
eco_codes <- eco_codes %>%
mutate(eco_prov = str_sub(ECOSUBCD, end = -3),
eco_division = str_sub(eco_prov, end = 2))
eco_codes
eco_codes <- eco_codes %>%
mutate(eco_prov = str_sub(ECOSUBCD, end = -3),
eco_division = str_sub(eco_prov, end = 3))
eco_codes
eco_codes <- eco_codes %>%
mutate(eco_prov = str_sub(ECOSUBCD, end = -3),
eco_division = str_sub(eco_prov, start = nchar(eco_prov), end = 1))
eco_codes
eco_codes <- eco_codes %>%
mutate(eco_prov = str_sub(ECOSUBCD, end = -3),
eco_division = str_sub(eco_prov, start = nchar(eco_prov), end = -1))
eco_codes
eco_codes <- eco_codes %>%
mutate(eco_prov = str_sub(ECOSUBCD, end = -3),
eco_division = str_replace(eco_prov, start = nchar(eco_prov), end = -1), 0)
eco_codes <- eco_codes %>%
mutate(eco_prov = str_sub(ECOSUBCD, end = -3),
eco_division = str_replace(str_sub(eco_prov, start = nchar(eco_prov), end = -1), 0))
eco_codes
str_sub(eco_prov, start = nchar(eco_prov), end = -1)
eco_codes <- eco_codes %>%
mutate(eco_prov = str_sub(ECOSUBCD, end = -3),
eco_division = str_replace(eco_prov, str_sub(eco_prov, start = nchar(eco_prov), end = -1), 0))
eco_codes <- eco_codes %>%
mutate(eco_prov = str_sub(ECOSUBCD, end = -3),
eco_division = str_sub(eco_prov, start = nchar(eco_prov), end = -1), 0))
eco_codes
eco_codes <- eco_codes %>%
mutate(eco_prov = str_sub(ECOSUBCD, end = -3),
eco_division = str_sub(eco_prov, start = nchar(eco_prov), end = -1), 0)
eco_codes
eco_codes <- eco_codes %>%
mutate(eco_prov = str_sub(ECOSUBCD, end = -3),
eco_division = str_sub(ecoprov, nchar(input_string), nchar(input_string)) <- "B")
eco_codes <- eco_codes %>%
mutate(eco_prov = str_sub(ECOSUBCD, end = -3),
eco_division = str_sub(eco_prov, nchar(input_string), nchar(input_string)) <- "B")
eco_codes <- eco_codes %>%
mutate(eco_prov = str_sub(ECOSUBCD, end = -3),
eco_division = str_sub(eco_prov, nchar(eco_prov), nchar(eco_prov)) <- "B")
eco_codes
# Chunk 1
library(tidyverse)
# Chunk 2
# Set working directory
my_wd <- "C:/Users/matt/Documents/Arbor/Projects/Blog/"
me_plot<- read_csv(paste0(my_wd, "ME_PLOT.csv"))
# Chunk 3
eco_codes <- as_tibble(table(me_plot$ECOSUBCD), .name_repair = "unique") |>
rename(ECOSUBCD = ...1,
num_plots = n)
eco_codes
eco_codes <- eco_codes %>%
mutate(eco_prov = str_sub(ECOSUBCD, end = -3),
eco_division = str_sub(eco_prov, nchar(eco_prov), nchar(eco_prov)) <- "0")
eco_codes
eco_codes <- eco_codes %>%
mutate(eco_prov = str_sub(ECOSUBCD, end = -3),
eco_division = substr(eco_prov, nchar(eco_prov), nchar(eco_prov)) <- "0")
eco_codes
# Chunk 1
library(tidyverse)
# Chunk 2
# Set working directory
my_wd <- "C:/Users/matt/Documents/Arbor/Projects/Blog/"
me_plot<- read_csv(paste0(my_wd, "ME_PLOT.csv"))
# Chunk 3
eco_codes <- as_tibble(table(me_plot$ECOSUBCD), .name_repair = "unique") |>
rename(ECOSUBCD = ...1,
num_plots = n)
eco_codes
eco_codes <- eco_codes %>%
mutate(eco_prov = str_sub(ECOSUBCD, end = -3),
eco_division = substr(eco_prov, nchar(eco_prov), nchar(eco_prov)) <- "0")
eco_codes
eco_codes <- eco_codes %>%
mutate(eco_prov = str_sub(ECOSUBCD, end = -3),
eco_division = str_sub(input_string, -1) <- "B")
eco_codes <- eco_codes %>%
mutate(eco_prov = str_sub(ECOSUBCD, end = -3),
eco_division = str_sub(eco_prov, -1) <- "B")
eco_codes
eco_codes <- eco_codes %>%
mutate(eco_prov = str_sub(ECOSUBCD, end = -3),
eco_division = str_sub(eco_prov, -1 <- "B"))
eco_codes
eco_division = str_sub(eco_prov, -1, "B")
eco_codes <- eco_codes %>%
mutate(eco_prov = str_sub(ECOSUBCD, end = -3),
eco_division = str_sub(eco_prov, -1, "B")
eco_codes
eco_codes <- eco_codes %>%
mutate(eco_prov = str_sub(ECOSUBCD, end = -3),
eco_division = str_sub(eco_prov, -1, "B"))
eco_codes
eco_codes <- eco_codes %>%
mutate(eco_prov = str_sub(ECOSUBCD, end = -3),
eco_division = str_sub(eco_prov, -1 <- "B"))
eco_codes <- eco_codes %>%
mutate(eco_prov = str_sub(ECOSUBCD, end = -3),
eco_division = str_sub(eco_prov, -1) <- "B")
eco_codes
eco_codes <- eco_codes %>%
mutate(eco_prov = str_sub(ECOSUBCD, end = -3),
eco_division = str_sub(eco_prov, -1))
eco_codes
eco_codes <- eco_codes %>%
mutate(eco_prov = str_sub(ECOSUBCD, end = -3),
eco_division = str_sub(eco_prov, -1, "N"))
eco_codes
eco_codes <- eco_codes %>%
mutate(eco_prov = str_sub(ECOSUBCD, end = -3),
eco_division = str_sub(eco_prov, -1, 1))
eco_codes
eco_codes <- eco_codes %>%
mutate(eco_prov = str_sub(ECOSUBCD, end = -3),
eco_division = str_sub(eco_prov, -1, 2))
eco_codes
eco_codes <- eco_codes %>%
mutate(eco_prov = str_sub(ECOSUBCD, end = -3))
replace_last_char <- function(input_string) {
str_sub(input_string, -1) <- "0"
return(input_string)
}
eco_codes |>
mutate(eco_division = replace_last_char(eco_prov))
return(input_string)
get_eco_prov <- function(input_string) {
str_sub(input_string, end = -3)
return(input_string)
}
replace_last_char <- function(input_string) {
str_sub(input_string, -1) <- "0"
return(input_string)
}
eco_codes |>
mutate(eco_prov = get_eco_prov(ECOSUBCD),
eco_division = replace_last_char(eco_prov))
get_eco_prov <- function(input_string) {
str_sub(input_string, end = -3)
return(input_string)
}
replace_last_char <- function(input_string) {
str_sub(input_string, -1) <- "0"
return(input_string)
}
eco_codes |>
mutate(eco_prov = get_eco_prov(ECOSUBCD),
eco_division = replace_last_char(eco_prov))
get_eco_prov <- function(input_string) {
str_sub(input_string, end = -3)
return(input_string)
}
eco_codes |>
mutate(eco_prov = get_eco_prov(ECOSUBCD),
eco_division = replace_last_char(eco_prov))
# Chunk 1
library(tidyverse)
# Chunk 2
# Set working directory
my_wd <- "C:/Users/matt/Documents/Arbor/Projects/Blog/"
me_plot<- read_csv(paste0(my_wd, "ME_PLOT.csv"))
# Chunk 3
eco_codes <- as_tibble(table(me_plot$ECOSUBCD), .name_repair = "unique") |>
rename(ECOSUBCD = ...1,
num_plots = n)
str_sub(input_string, end = -3)
get_eco_prov <- function(input_string) {
str_sub(input_string, end = -3)
return(input_string)
}
replace_last_char <- function(input_string) {
str_sub(input_string, -1) <- "0"
return(input_string)
}
eco_codes |>
mutate(eco_prov = get_eco_prov(ECOSUBCD),
eco_division = replace_last_char(eco_prov))
get_eco_prov <- function(input_string) {
str_sub(input_string, end = -3)
return(input_string)
}
replace_last_char <- function(input_string) {
str_sub(input_string, -1) <- "0"
return(input_string)
}
eco_codes
eco_codes |>
mutate(eco_prov = get_eco_prov(ECOSUBCD))
str_sub(input_string, end = -1)
get_eco_prov <- function(input_string) {
str_sub(input_string, end = -1)
return(input_string)
}
replace_last_char <- function(input_string) {
str_sub(input_string, -1) <- "0"
return(input_string)
}
eco_codes |>
mutate(eco_prov = get_eco_prov(ECOSUBCD)),
eco_codes |>
mutate(eco_prov = get_eco_prov(ECOSUBCD),
eco_division = replace_last_char(eco_prov))
str_sub(input_string, end = -4)
get_eco_prov <- function(input_string) {
str_sub(input_string, end = -4)
return(input_string)
}
replace_last_char <- function(input_string) {
str_sub(input_string, -1) <- "0"
return(input_string)
}
eco_codes |>
mutate(eco_prov = get_eco_prov(ECOSUBCD),
eco_division = replace_last_char(eco_prov))
eco_codes <- as_tibble(table(me_plot$ECOSUBCD), .name_repair = "unique") |>
rename(ECOSUBCD = ...1,
num_plots = n) |>
mutate(eco_prov2 = str_sub(input_string, end = -3))
eco_codes <- as_tibble(table(me_plot$ECOSUBCD), .name_repair = "unique") |>
rename(ECOSUBCD = ...1,
num_plots = n) |>
mutate(eco_prov2 = str_sub(ECOSUBCD, end = -3))
get_eco_prov <- function(input_string) {
str_sub(input_string, end = -4)
return(input_string)
}
replace_last_char <- function(input_string) {
str_sub(input_string, -1) <- "0"
return(input_string)
}
eco_codes |>
mutate(eco_prov = get_eco_prov(ECOSUBCD),
eco_division = replace_last_char(eco_prov))
# Chunk 1
library(tidyverse)
# Chunk 2
# Set working directory
my_wd <- "C:/Users/matt/Documents/Arbor/Projects/Blog/"
me_plot<- read_csv(paste0(my_wd, "ME_PLOT.csv"))
# Chunk 3
eco_codes <- as_tibble(table(me_plot$ECOSUBCD), .name_repair = "unique") |>
rename(ECOSUBCD = ...1,
num_plots = n) |>
mutate(eco_prov2 = str_sub(ECOSUBCD, end = -3))
# Chunk 4
get_eco_prov <- function(input_string) {
str_sub(input_string, end = -3)
return(input_string)
}
replace_last_char <- function(input_string) {
str_sub(input_string, -1) <- "0"
return(input_string)
}
eco_codes |>
mutate(eco_prov = get_eco_prov(ECOSUBCD),
eco_division = replace_last_char(eco_prov))
eco_codes <- as_tibble(table(me_plot$ECOSUBCD), .name_repair = "unique") |>
rename(ECOSUBCD = ...1,
num_plots = n) |>
mutate(eco_prov2 = str_sub(ECOSUBCD, end = -3),
eco_division2 = str_sub(eco_prov2, -1, "0"))
eco_codes
eco_codes <- as_tibble(table(me_plot$ECOSUBCD), .name_repair = "unique") |>
rename(ECOSUBCD = ...1,
num_plots = n) |>
mutate(eco_prov2 = str_sub(ECOSUBCD, end = -3),
eco_division2 = str_replace(eco_prov2, -1, "0"))
eco_codes <- as_tibble(table(me_plot$ECOSUBCD), .name_repair = "unique") |>
rename(ECOSUBCD = ...1,
num_plots = n) |>
mutate(eco_prov2 = str_sub(ECOSUBCD, end = -3),
eco_division2 = str_replace(eco_prov2,  "0"))
eco_codes <- as_tibble(table(me_plot$ECOSUBCD), .name_repair = "unique") |>
rename(ECOSUBCD = ...1,
num_plots = n) |>
mutate(eco_prov2 = str_sub(ECOSUBCD, end = -3),
eco_division2 = str_replace(eco_prov2, ".$", "B"))
eco_codes
eco_codes <- as_tibble(table(me_plot$ECOSUBCD), .name_repair = "unique") |>
rename(ECOSUBCD = ...1,
num_plots = n) |>
mutate(eco_prov2 = str_sub(ECOSUBCD, end = -3),
eco_division2 = str_replace(eco_prov2, ".$", "0"))
eco_codes
# Chunk 1
library(tidyverse)
# Chunk 2
# Set working directory
my_wd <- "C:/Users/matt/Documents/Arbor/Projects/Blog/"
me_plot<- read_csv(paste0(my_wd, "ME_PLOT.csv"))
# Chunk 3
eco_codes <- as_tibble(table(me_plot$ECOSUBCD), .name_repair = "unique") |>
rename(ECOSUBCD = ...1,
num_plots = n) |>
mutate(eco_prov2 = str_sub(ECOSUBCD, end = -3),
eco_division = str_replace(eco_prov2, ".$", "0"))
eco_codes
# Chunk 1
library(tidyverse)
# Chunk 2
# Set working directory
my_wd <- "C:/Users/matt/Documents/Arbor/Projects/Blog/"
me_plot<- read_csv(paste0(my_wd, "ME_PLOT.csv"))
# Chunk 3
eco_codes <- as_tibble(table(me_plot$ECOSUBCD), .name_repair = "unique") |>
rename(ECOSUBCD = ...1,
num_plots = n) |>
mutate(eco_province = str_sub(ECOSUBCD, end = -3),
eco_division = str_replace(eco_prov2, ".$", "0"))
# Chunk 1
library(tidyverse)
# Chunk 2
# Set working directory
my_wd <- "C:/Users/matt/Documents/Arbor/Projects/Blog/"
me_plot<- read_csv(paste0(my_wd, "ME_PLOT.csv"))
# Chunk 3
eco_codes <- as_tibble(table(me_plot$ECOSUBCD), .name_repair = "unique") |>
rename(ECOSUBCD = ...1,
num_plots = n) |>
mutate(eco_province = str_sub(ECOSUBCD, end = -3),
eco_division = str_replace(eco_province, ".$", "0"))
eco_codes
eco_codes |>
summarize(num_plots_division = sum(num_plots),
.by = "eco_division")
blogdown:::serve_site()
eco_codes <- as_tibble(table(me_plot$ECOSUBCD), .name_repair = "unique") |>
rename(ECOSUBCD = ...1,
num_plots = n)
eco_codes
eco_codes |> mutate(eco_province = str_sub(ECOSUBCD, end = -3),
eco_division = str_replace(eco_province, ".$", "0"))
eco_codes |>
summarize(num_plots_division = sum(num_plots),
.by = "eco_division")
eco_codes
eco_codes <- eco_codes |>
mutate(eco_province = str_sub(ECOSUBCD, end = -3),
eco_division = str_replace(eco_province, ".$", "0"))
eco_codes
eco_codes |>
summarize(num_plots_division = sum(num_plots),
.by = "eco_division")
eco_codes <- as_tibble(table(me_plot$ECOSUBCD), .name_repair = "unique") |>
rename(ECOSUBCD = ...1,
num_plots = n)
eco_codes
